generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model categories {
  cat_id   Int     @id
  cat_name String?
}

model crew {
  media_id  String?
  directors String?
  writers   String?
  crew_id   Int     @id
}

model genre {
  genre_id   Int     @id
  genre_name String?
}

model media {
  media_id       String        @id
  primaryTitle   String?
  isAdult        Int?
  startYear      Int?
  endYear        String?
  runtimeMinutes String?
  media_genre    media_genre[]
  rating         rating[]
}

model media_genre {
  media_id String
  genre_id Int
  media    media  @relation(fields: [media_id], references: [media_id], onDelete: NoAction, onUpdate: NoAction)

  @@id([media_id, genre_id])
}

model personne {
  perso_id          String  @id
  primaryName       String?
  birthYear         String?
  deathYear         String?
  primaryProfession String?
}

model principal {
  media_id   String
  ordering   Int
  perso_id   String
  cat_id     Int
  job        String?
  characters String?

  @@id([media_id, ordering, perso_id, cat_id])
}

model rating {
  media_id      String?
  averageRating Float?  @db.Real
  numVotes      Int?
  rating_id     Int     @id
  media         media?  @relation(fields: [media_id], references: [media_id], onDelete: NoAction, onUpdate: NoAction)
}
